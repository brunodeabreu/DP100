<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Parte 2 Set up an Azure Machine Learning | Estudo DP-100 Design and Implementing a Data Science Solution in Azure</title>
  <meta name="description" content="Parte 2 Set up an Azure Machine Learning | Estudo DP-100 Design and Implementing a Data Science Solution in Azure" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Parte 2 Set up an Azure Machine Learning | Estudo DP-100 Design and Implementing a Data Science Solution in Azure" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Parte 2 Set up an Azure Machine Learning | Estudo DP-100 Design and Implementing a Data Science Solution in Azure" />
  
  
  

<meta name="author" content="Bruno de A. Machado" />


<meta name="date" content="2021-02-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="a-caucus-race-and-a-long-tale.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DP100 Notas de Estudo</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Certification</a></li>
<li class="chapter" data-level="2" data-path="set-up-an-azure-machine-learning.html"><a href="set-up-an-azure-machine-learning.html"><i class="fa fa-check"></i><b>2</b> Set up an Azure Machine Learning</a><ul>
<li class="chapter" data-level="2.1" data-path="set-up-an-azure-machine-learning.html"><a href="set-up-an-azure-machine-learning.html#intro-to-azure-machine-learning"><i class="fa fa-check"></i><b>2.1</b> Intro to Azure Machine Learning</a></li>
<li class="chapter" data-level="2.2" data-path="set-up-an-azure-machine-learning.html"><a href="set-up-an-azure-machine-learning.html#workspace"><i class="fa fa-check"></i><b>2.2</b> Workspace</a><ul>
<li class="chapter" data-level="2.2.1" data-path="set-up-an-azure-machine-learning.html"><a href="set-up-an-azure-machine-learning.html#role-based-access-control"><i class="fa fa-check"></i><b>2.2.1</b> Role-Based Access Control</a></li>
<li class="chapter" data-level="2.2.2" data-path="set-up-an-azure-machine-learning.html"><a href="set-up-an-azure-machine-learning.html#creating-workspace"><i class="fa fa-check"></i><b>2.2.2</b> Creating Workspace</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="set-up-an-azure-machine-learning.html"><a href="set-up-an-azure-machine-learning.html#install-azure-ml-sdk-for-python"><i class="fa fa-check"></i><b>2.3</b> Install Azure ML SDK for Python</a></li>
<li class="chapter" data-level="2.4" data-path="set-up-an-azure-machine-learning.html"><a href="set-up-an-azure-machine-learning.html#conectando-na-workspace-utilizando-python-sdk"><i class="fa fa-check"></i><b>2.4</b> Conectando na Workspace utilizando Python SDK</a></li>
<li class="chapter" data-level="2.5" data-path="set-up-an-azure-machine-learning.html"><a href="set-up-an-azure-machine-learning.html#compute-instances"><i class="fa fa-check"></i><b>2.5</b> Compute Instances</a></li>
<li class="chapter" data-level="2.6" data-path="set-up-an-azure-machine-learning.html"><a href="set-up-an-azure-machine-learning.html#compute-targets"><i class="fa fa-check"></i><b>2.6</b> Compute Targets</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="a-caucus-race-and-a-long-tale.html"><a href="a-caucus-race-and-a-long-tale.html"><i class="fa fa-check"></i><b>3</b> A caucus-race and a long tale</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Estudo DP-100 Design and Implementing a Data Science Solution in Azure</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="set-up-an-azure-machine-learning" class="section level1">
<h1><span class="header-section-number">Parte 2</span> Set up an Azure Machine Learning</h1>
<div id="intro-to-azure-machine-learning" class="section level2">
<h2><span class="header-section-number">2.1</span> Intro to Azure Machine Learning</h2>
<p>Utilizando os serviços da Azure podemos utilizar Python de 3 formas :</p>
<ol style="list-style-type: decimal">
<li>SDK</li>
<li>CLI</li>
<li>UX</li>
</ol>
<p>Nos possibilitando</p>
<ul>
<li>Preparar dados</li>
<li>Criar modelos</li>
<li>Treinar modelos</li>
<li>Administrar Modelos</li>
<li>Realizar Track de experimentos</li>
<li>Deploy de modelos</li>
</ul>
<div class="figure"><span id="fig:fig4"></span>
<img src="docs/img/azure_ml.png" alt="Study areas" width="384" />
<p class="caption">
Figure 2.1: Study areas
</p>
</div>
</div>
<div id="workspace" class="section level2">
<h2><span class="header-section-number">2.2</span> Workspace</h2>
<p>Dentro da <strong>Workspace</strong> temos um ambiente completo para criar projetos de <em>Machine Learning</em>, basicamente os 8 steps básicos para criação de projetos é destacado na figura abaixo.</p>
<div class="figure"><span id="fig:fig5"></span>
<img src="docs/img/8_steps.png" alt="8 basic steps" width="398" />
<p class="caption">
Figure 2.2: 8 basic steps
</p>
</div>
<p>A <strong>Workspace</strong> esta associada a uma subscription e <strong>resource group</strong> que inclui outras funcionalidades de storage, dispositivos para security, VMs e alternativas para administraçãode containers</p>
<div class="figure"><span id="fig:fig6"></span>
<img src="docs/img/workspace.png" alt="workspace" width="410" />
<p class="caption">
Figure 2.3: workspace
</p>
</div>
<div id="role-based-access-control" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Role-Based Access Control</h3>
<p>Podemos utilizar RBAC control para administrar a workspace e administrar permissões via Azure Active Directory AAD, por exemplo:</p>
<ul>
<li>Podemos criar uma <em>policy</em> que permite IT Operations a riar compute targets e datastores</li>
<li>Permitir usuários do time de Ciência de Dados a criar, rodar experimentos e registar modelos</li>
</ul>
</div>
<div id="creating-workspace" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Creating Workspace</h3>
<p>A workspace pode ser criada pela interface gráfica <em>UI</em> ou via python SDK. Alguns parametros são obrigratórios como subscription id, resoure group.</p>
<pre><code>from azure.core import Workspace

ws = Workspace.create(name = &#39;&lt;name-of-workspace&gt;&#39;,
                      subscription_id = &#39;12345...&#39;,
                      resource_group = &#39;aml-resources&#39;,
                      create_resource_group=True,
                      location = &#39;eastus&#39;,
                      sku = &#39;enterprise&#39;)</code></pre>
<ul>
<li><p>Devemos considerar a região onde iremos criar a workspace pois algumas regiões podem não ter todos os recursos como GPU.</p></li>
<li><p>Outro detalhe é a <code>sku</code> que identifica a Edição : <strong>Enterprise</strong> que inclui todas as features ou <strong>Basic</strong> inclui as features core mas não inclui Designer, tools gráficas, automated machine learning ou data drift monitoring.</p></li>
</ul>
</div>
</div>
<div id="install-azure-ml-sdk-for-python" class="section level2">
<h2><span class="header-section-number">2.3</span> Install Azure ML SDK for Python</h2>
<p>Para instalar o azure machine learning sdk para python podemos utilizar pip install</p>
<pre><code>pip install azureml-sdk</code></pre>
<p>Caso queira incluir modulos extras</p>
<pre><code>pip install azureml-sdk[notebooks, automl, explain]</code></pre>
</div>
<div id="conectando-na-workspace-utilizando-python-sdk" class="section level2">
<h2><span class="header-section-number">2.4</span> Conectando na Workspace utilizando Python SDK</h2>
<p>Uma das opções é baixar o JSON file com as informações de resource group, workspace name e subscription id que esta disponível na interface web e utlizar a função <code>from_config</code>.</p>
<pre><code>from azureml.core import Workspace

ws = Workspace.from_config()</code></pre>
<p>Outra alternativa é utilizar o método <code>get</code> :</p>
<pre><code>from azureml.core import Workspace

ws = Workspace.get(name = &#39;&lt;wokspace name&gt;&#39;,
                   subscription_id = &#39;&lt;id 12345...&gt;&#39;,
                   resource_group = &#39;&lt;resource group name&gt;&#39;)</code></pre>
<p>Um objeto workspace é o ponto de partida para acessar os recursos na Azure Machine Learning, por exemplo podemos utilizar <code>ws.compute_targets</code> para obter informações de máquinas associados a workspace</p>
</div>
<div id="compute-instances" class="section level2">
<h2><span class="header-section-number">2.5</span> Compute Instances</h2>
<p>Azure ML inclui a opção de criar <strong>Compute Instances</strong> na workspace para realizar o desenvolvimento e possibilita administrar outros assets na workspace como por exemplo, podemos abrir um Jupyter notebook para criar todo cõdigo.</p>
<p>Azure ML Compute instance ẽ uma workstation para ciÊncia de dados na cloud que pode ser iniciada e parada quando não estiver em uso, e sõ é cobrado quando você estiver utilizando.</p>
<p>Normalmente Compute Instances é utilizado como ambiente de DEV ou pode ser utilizado como um compute target para treinar e realizar inferencias de teste.</p>
<p>Compute instance foi criado para substituir Notebook VM na Azure.</p>
<p><strong>Porque utilizar compute instances ?</strong></p>
<div class="figure"><span id="fig:fig7"></span>
<img src="docs/img/why_compute_instance.png" alt="Porque utilizar Compute Instances" width="424" />
<p class="caption">
Figure 2.4: Porque utilizar Compute Instances
</p>
</div>
</div>
<div id="compute-targets" class="section level2">
<h2><span class="header-section-number">2.6</span> Compute Targets</h2>
<p>Na Azure ML compute target são designados como recursos ou ambientes computacionais onde você pode realizar treinamentos via script ou servir como host para service deployment.</p>
<p>Utilizar compute targets oferece a possibilidade de modificar o ambiente sem ter que trocar o código.</p>
<p>Todos os recursos utilizamos para o compute target são anexados a workspace.</p>
<p>Para treinar em compute targets temos diversas opção como descrito abaixo :</p>
<div class="figure"><span id="fig:fig8"></span>
<img src="docs/img/training_compute_targets.png" alt="Training a Compute targets" width="434" />
<p class="caption">
Figure 2.5: Training a Compute targets
</p>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="a-caucus-race-and-a-long-tale.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/brunodeabreu/DP100/edit/master/02-Set-up-an-Azure-Machine-Learning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/brunodeabreu/DP100/blob/master/02-Set-up-an-Azure-Machine-Learning.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
